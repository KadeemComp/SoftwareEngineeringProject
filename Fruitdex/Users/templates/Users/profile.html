{% extends "Home/home_layout.html" %}
{% load crispy_forms_tags %}

{% block title %}
  User Profile
{% endblock %}

{% block content %}

  <div class="grid-container">
    <div class="media grid-child profile">
      <img class="rounded-circle account-img" src="{{ user.profile.image.url }}">
      <div class="media-body">
        <h2 class="account-heading"> {{ user.username }} </h2>
        <p class="text-secondary"> {{ user.email }} </p>
      </div>
      <div style=font-weight:350>
        <p> Contributions: {{ user.profile.contribution }}</p>
        <p> Up Votes: {{user.profile.upvotes}}</p>
      </div>
    </div>
  
    <!-- the update forms are below  -->
    <!-- "enctype = "multipart/form-data" " This section of code is important when uploading images so that its saved properly -->
    <div class="grid-child update">
    <form method="POST" enctype = "multipart/form-data">
      {%csrf_token%}
      <fieldset class = "form-group">
        <legend class = "border-bottom mb-4"> Profile Info </legend>
        {{ u_form|crispy }} 
        {{ p_form|crispy }} 
      </fieldset>
      <div class = "form-group">
        <button class = "btn btn-outline-info" type = "submit"> Update </button>
      </div>
    </form>
    </div>
  </div>

{% endblock content %}